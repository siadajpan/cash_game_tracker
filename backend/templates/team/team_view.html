{% extends "shared/base.html" %}
{% block title %}
<title>Team {{ team.name }}</title>
{% endblock %}
{% block page_heading %}{{ team.name }} <span class="text-muted">#{{ team.search_code }}</span>{% endblock %}

{% block content %}

{% if current_user.id == team.owner.id and join_requests %}
{%with join_requests=join_requests %}
{% include "team/component_join_request.html" %}
{% endwith %}
{% endif %}
<ul class="list-group list-group-flush mb-3" style="max-height: 250px; overflow-y: auto; display: block;">
    <li class="list-group-item d-flex justify-content-between fw-bold sticky-top bg-white">
        <span class="col-4">Player</span>
        <span class="col-4 text-center">Games Played</span>
        <span class="col-4 text-end">Total Balance</span>
    </li>

    {% for info in players_info %}
    <li class="list-group-item d-flex align-items-center">
        <div class="col-4">{{ info.player.nick }}</div>
        <div class="col-4 text-center">{{ info.games_count }}</div>
        <div class="col-4 text-end {% if info.total_balance < 0 %}text-danger{% else %}text-success{% endif %}">
            {% if info.total_balance % 1 %}
            {{ "%.2f"|format(info.total_balance) }}
            {% else %}
            {{ info.total_balance|int }}
            {% endif %}
        </div>
    </li>
    {% endfor %}
</ul>


<div class="d-flex mt-3">
    <a href="/" class="btn btn-outline-secondary">Back</a>
</div>
{% endblock %}